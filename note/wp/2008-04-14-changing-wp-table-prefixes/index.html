<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Changing WP Table prefixes</title><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dark.min.css><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css integrity=sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN crossorigin=anonymous><link rel=stylesheet href=https://aurbano.eu/main.min.e8379ffe94c99e9f62ff46a147945a4bd037155d7feceb3fb30d33fca528e1cf.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/typescript.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js></script><script>hljs.initHighlightingOnLoad();</script><script src=https://code.jquery.com/jquery-3.4.1.slim.min.js integrity=sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n crossorigin=anonymous></script><script src=https://aurbano.eu/vendor/bootstrap/dist/js/bootstrap.bundle.min.js></script><script>$(document).on('click',function(){$('.collapse').collapse('hide');})</script><meta name=generator content="Hugo 0.61.0"><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></head><body><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class=container><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/>Home</a></li><li class=nav-item><a class=nav-link href=/about/>About</a></li><li class=nav-item><a class=nav-link href=/note/>Notes</a></li><li class=nav-item><a class=nav-link href=/projects/>Projects</a></li></ul><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://github.com/aurbano/><i class="fa fa-github"></i></a></li><li class=nav-item><a class=nav-link href=https://www.linkedin.com/in/aurbano/><i class="fa fa-linkedin"></i></a></li><li class=nav-item><a class=nav-link href=https://stackoverflow.com/users/1262824/aurbano><i class="fa fa-stack-overflow"></i></a></li><li class=nav-item><a class=nav-link href="https://news.ycombinator.com/user?id=aurbano"><i class="fa fa-hacker-news"></i></a></li></ul></div></div></nav><main><div class=container><div class="row justify-content-md-center"><div class="col col-lg-8"><div><h1>Changing WP Table prefixes</h1><small class="date text-muted">Published on April 14, 2008</small>
<a href=https://aurbano.eutags/prefix class=item-tag>prefix</a>
<a href=https://aurbano.eutags/sql class=item-tag>sql</a>
<a href=https://aurbano.eutags/tables class=item-tag>tables</a>
<a href=https://aurbano.eutags/wp class=item-tag>wp</a></div><div align=start class=content><p>As a security tip you should always change the default table prefix "wp_", mainly to avoid zero-day vulnerabilities (Vulnerabilities that haven't been discovered yet), or JavaScript SQL injection.</p><p>A very good tool you could use for that purpose is the <a href=http://semperfiwebdesign.com/plugins/wp-security-scan/>WP-Security-Scan</a> plugin, which takes care of all your security problems, including that one.<br>The problem is that most of the times it is very hard to get it to change the prefix. Because of that you will have to do it manually.</p><h2 id=changing-the-table-prefix-manually>Changing the table prefix manually</h2><h3 id=step-1>Step 1</h3><p><strong>Backup!</strong> the most important thing of all, backup, backup everything, often and early!</p><h3 id=step-2>Step 2</h3><p>Install the "<a href=http://sw-guide.de/wordpress/plugins/maintenance-mode/>Maintenance mode</a>" plugin, this way while you change the prefix no one will see errors in your site.</p><h3 id=step-3>Step 3</h3><p>Chose now a very hard prefix, for this example I'm using <strong>df7s_23c_</strong>.<br>Change the current prefix in <strong>wp-config.php</strong>, but you shouldn't upload it yet.<br>Now start changing the table names to the new ones. (I recommend using phpMyAdmin for this, as it will make next step easier)</p><h3 id=step-4>Step 4</h3><p>This is very important!<br>There are some rows in your new tables that need to be updated:</p><ol><li>Go to the former table wp_options (Now df7s_23c_options in the example) and change the following rows (It is recommended to search for "**%wp_%**" so that you get a list of the rows to edit):<ol><li>wp_user_roles</li><li>wp_cron_backup_tables</li><li>wp_cron_backup_schedule</li><li>wp_cron_backup_recipient</li></ol></li><li>Now go to the former table wp_usermeta (Now df7s_23c_usermeta in the example) and change the following rows:<ol><li>wp_capabilities</li><li>wp_user_level</li><li>wp_autosave_draft_ids</li></ol></li></ol><h3 id=finishing>Finishing</h3><p>Upload the file <code>wp-config.php</code> if you haven't done so before, and check to see if it works.<br>If it doesn't make sure that all of the tables have been correctly renamed, and all the rows listed above. If it doesn't work yet there might be some plugins that created a table containing in it's rows the wp_ table prefix. If that is the case check all your plugin-created tables to ensure that none of the fields containt the old prefix.</p><p>If you still get problems replace your backup and wp-config.php and contact me through the comments of this post and I'll try to help you</p></div></div></div></div></main><footer><p class="copyright text-muted">Â© All rights reserved.</p></footer><div class="border animated-hue"></div></body></html>